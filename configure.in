dnl Process this file with autoconf to produce a configure script.
AC_INIT(lib/vx68k/dos.cc)
AM_INIT_AUTOMAKE(vx68k, 0.36)
AM_CONFIG_HEADER(include/config.h)
AC_DEFINE(_GNU_SOURCE)
AC_DEFINE(_REENTRANT)
AC_PROG_CC
AC_PROG_CXX
AC_PROG_CPP
AC_PROG_RANLIB
AC_SEARCH_LIBS(pthread_create, pthread)
AM_PATH_GTK(1.2.0)
AC_CHECK_HEADERS(fcntl.h unistd.h)
AC_ARG_WITH(nana,
[  --with-nana             use GNU Nana for testing [no]],, with_nana=no)
if test "$with_nana" != no; then
  AC_CHECK_LIB(nana, _I_default_handler)
  AC_CHECK_HEADERS(nana.h)
fi

AC_TYPE_SIZE_T
AC_CHECK_FUNCS(localtime_r)
AC_OUTPUT(Makefile \
include/Makefile include/vm68k/Makefile include/vx68k/Makefile \
lib/Makefile lib/vm68k/Makefile lib/vx68k/Makefile bin/Makefile \
testsuite/Makefile)
